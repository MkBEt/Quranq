{"mappings":"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","sources":["code/index.js"],"sourcesContent":["// This is the main script\r\n\r\n// Fix issue for parcel/babel, for async await thing for old browser, or only support new browsers with async await functionality\r\n// https://flaviocopes.com/parcel-regeneratorruntime-not-defined/\r\n// import 'regenerator-runtime/runtime'\r\n// Fix issue for parcel jquery script\r\n// https://github.com/parcel-bundler/parcel/issues/333#issuecomment-504552272\r\n// https://www.npmjs.com/package/jquery\r\n// import $ from 'jquery'\r\n// import Cookies from 'js-cookie'\r\n\r\n\r\n\r\nconst defaultEdition = 'eng-mustafakhattabg'\r\n\r\n\r\n\r\nlet editionsJSON\r\n\r\n// call this only once\r\nasync function oneTimeFunc() {\r\n  document.querySelector('#mycontainer').insertAdjacentHTML('afterbegin', searchBar);\r\n  // Editions JSON from quran api\r\n  [editionsJSON] = await getJSON(['editions'])\r\n  // Create the dropdown\r\n  await createDropdown()\r\n\r\n  // first set edition, then chapter, then verse\r\n  setInitEditions()\r\n  setInitChapter()\r\n  // show the translations on cookie/link selected values\r\n  await window.showTranslations()\r\n  setInitVerse()\r\n  // Add searchable select\r\n  $('select').select2({\r\n    theme: 'bootstrap4',\r\n  });\r\n  // In chrome the onchange event on select verse option doesn't work due to select2\r\n  // So doing that thing again in here\r\n  $('#verse').on(\"select2:select\", function (e) {\r\n    location = location.hash\r\n  });\r\n\r\n}\r\n\r\n\r\n\r\nfunction setInitEditions() {\r\n  // Set by url\r\n  const currenturl = new URL(window.location)\r\n  const urlparams = currenturl.searchParams\r\n\r\n  if (urlparams.get('editions') !== null) {\r\n    urlparams.get('editions').split(',').map(e => $('#translationdropdown option[value=\"' + e + '\"]').prop('selected', true))\r\n    return\r\n  }\r\n\r\n  // Set editions by cookie\r\n  const editionCookie = Cookies.get('editions')\r\n  if (editionCookie !== undefined) {\r\n    JSON.parse(editionCookie).map(e => $('#translationdropdown option[value=\"' + e + '\"]').prop('selected', true))\r\n    return\r\n  }\r\n  // set to default edition\r\n  $('#translationdropdown option[value=\"' + defaultEdition + '\"]').prop('selected', true)\r\n}\r\n\r\nfunction setInitChapter() {\r\n  // Set chapter by url\r\n  if (window.location.hash !== '') {\r\n    const chapterVerse = window.location.hash.substring(1).split(':')\r\n    $('#chapter option[value=\"' + chapterVerse[0] + '\"]').prop('selected', true)\r\n    return\r\n  }\r\n  // Set chapter by cookie\r\n  const chapterCookie = Cookies.get('chapter')\r\n  if (chapterCookie !== undefined) {\r\n    $('#chapter option[value=\"' + chapterCookie + '\"]').prop('selected', true)\r\n    return\r\n  }\r\n\r\n  // Set chapter to 1 if all the above doesn't work\r\n  $('#chapter option[value=\"1\"]').prop('selected', true)\r\n}\r\n\r\nfunction setInitVerse() {\r\n  // Stores the chapter & verse from link hash , eg: #4:3\r\n  const chapterVerse = window.location.hash.substring(1).split(':')\r\n  // scroll to specific verse if it existed in link hash\r\n  if (chapterVerse.length > 1) {\r\n    window.location = window.location.hash\r\n    $('#verse option[value=\"' + window.location.hash + '\"]').prop('selected', true)\r\n  }\r\n}\r\n\r\n// Creates and add listing to the dropdown based on editions.json\r\nasync function createDropdown() {\r\n  // Sorts language & author , edition Name\r\n  const langEdition = []\r\n  for (const value of Object.values(editionsJSON)) {\r\n    let dropdownText\r\n    // check edition name ends with -la, then\r\n    if (/\\-la$/i.test(value.name)) { dropdownText = value.language + ' Latin - ' + value.author } else if (/\\-lad$/i.test(value.name)) { dropdownText = value.language + ' LatinD - ' + value.author } else { dropdownText = value.language + ' - ' + value.author }\r\n\r\n    langEdition.push([dropdownText, value.name, value.direction])\r\n  }\r\n  // sort by dropdowntext\r\n  langEdition.sort()\r\n\r\n  for (const [value, key, dir] of langEdition) { $('#translationdropdown').append('<option value=\"' + key + '\" data-dir=\"' + dir + '\">' + value + '</option>') }\r\n\r\n  // Create chapter dropdown\r\n  for (let i = 1; i <= CHAPTER_LENGTH; i++) { $('#chapter').append('<option value=\"' + i + '\">' + i + ' - ' + arabicChapters[i - 1] + ' (' + englishChapters[i - 1] + ')</option>') }\r\n}\r\n\r\nwindow.showTranslations = async function showTranslations() {\r\n  // Not a great way to do\r\n  $('#versescolumn').empty()\r\n  // Add the card element, so verses get shown in cards\r\n  $('#versescolumn').append('<div id=\"verseslist\" class=\"card list-group list-group-flush\"></div>')\r\n\r\n  const selectedValues = $('#translationdropdown').val().filter(elem => !/^\\s*$/.test(elem))\r\n\r\n  // Holds chapter & editionName\r\n  let chapEdDirHolder = []\r\n  const chapterNo = $('#chapter').val()\r\n  const endpointsArr = []\r\n  if (chapterNo === '') { return }\r\n\r\n  // Set the cookies\r\n  if (selectedValues.length > 0) {\r\n    Cookies.set('editions', JSON.stringify(selectedValues), { expires: 1000, path: '' })\r\n    Cookies.set('chapter', chapterNo, { expires: 1000, path: '' })\r\n    showSpinningWheel()\r\n  }\r\n\r\n  for (const edName of selectedValues) {\r\n    const endpoint = 'editions' + '/' + edName + '/' + chapterNo\r\n    endpointsArr.push(endpoint)\r\n  }\r\n  const chaptersArr = await getChapterArr(endpointsArr)\r\n  chapEdDirHolder = chaptersArr.map((e, i) => [e, selectedValues[i], $('#translationdropdown option[value=\"' + selectedValues[i] + '\"]').attr('data-dir'), $('#translationdropdown option[value=\"' + selectedValues[i] + '\"]').text()])\r\n  // offset by these verses due for better scrolling due to fixed header\r\n  const offset = 1\r\n  // create empty element with verse 1 id , so to avoid issues due to offset\r\n  $('#verseslist').append('<span id=\"' + chapterNo + ':1\"> </span>')\r\n  removeSpinningWheel()\r\n  let classValues\r\n  for (let i = 1; i <= chaplength[chapterNo - 1]; i++) {\r\n    for (const [chapter, edName, dir, dropDownText] of chapEdDirHolder) {\r\n      const id = chapterNo + ':' + (i + offset)\r\n      classValues = edName + ' list-group-item p-2'\r\n      $('#verseslist').append('<div class=\"' + classValues + '\" dir=\"' + dir + '\" id=\"' + id + '\"><span class=\"badge bg-light text-dark\" data-bs-toggle=\"tooltip\" title=\"' + dropDownText + '\">' + i + '</span>' + ' - ' + chapter[i - 1] + '</div>')\r\n    }\r\n  }\r\n\r\n  initializeTooltip()\r\n  createVerseDropDown()\r\n}\r\n\r\nfunction initializeTooltip() {\r\n  const tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle=\"tooltip\"]'))\r\n  const tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {\r\n    return new bootstrap.Tooltip(tooltipTriggerEl)\r\n  })\r\n}\r\n\r\nfunction createVerseDropDown() {\r\n  $('#verse').empty()\r\n\r\n  $('#verse').append('<option value=\"\" selected>Verse</option>')\r\n  const chapterNo = $('#chapter').val()\r\n  for (let i = 1; i <= chaplength[chapterNo - 1]; i++) {\r\n    const anchor = '#' + chapterNo + ':' + i\r\n    $('#verse').append('<option value=\"' + anchor + '\">' + i + '</option>')\r\n  }\r\n}\r\n\r\n\r\n// Fetches the translationLinks and returns the translations in optimized array form\r\n// Also assigns it to global translationsArr\r\nasync function getChapterArr(endpointsArr) {\r\n  const transJSON = await getJSON(endpointsArr)\r\n  return transJSON.map(e => e.chapter.map(e => e.text))\r\n}\r\n\r\n\r\n// Show as loading spinning wheel,only if there isn't any other\r\nfunction showSpinningWheel() {\r\n  if ($('#spinningwheel').length === 0) {\r\n    $('#versescolumn').prepend(`<div  id=\"spinningwheel\">\r\n    <div class=\"text-center\">\r\n      <div class=\"spinner-border m-5\" role=\"status\">\r\n      </div>\r\n      </div>\r\n      </div>\r\n      `)\r\n  }\r\n}\r\n\r\nfunction removeSpinningWheel() {\r\n  $('#spinningwheel').remove()\r\n}\r\n\r\n\r\n\r\n// Call initializer function in the beginning itself, to fetch all necessary JSON's\r\nlet initVar\r\nwindow.addEventListener('DOMContentLoaded', (event) => {\r\n  initVar = oneTimeFunc()\r\n})\r\n/*\r\nfunction getDirection (str) {\r\n  const divelem = document.createElement('div')\r\n  divelem.dir = 'auto'\r\n  divelem.innerHTML = str\r\n  divelem.style.display = 'none'\r\n  document.body.appendChild(divelem)\r\n  const direction = window.getComputedStyle(divelem).getPropertyValue('direction')\r\n  divelem.remove()\r\n  return direction\r\n}\r\nasync function getFont(url) {\r\n\r\n  let fontName = url.replace(/\\.[^\\.]*$/,\"\").replace(/.*\\//,\"\")\r\n\r\n  const font = new FontFace(fontName, 'url('+url+')');\r\n  // wait for font to be loaded\r\n  await font.load();\r\n  // add font to document\r\n  document.fonts.add(font);\r\n\r\n  return fontName\r\n\r\n}\r\n\r\nconst fontsLink = apiLink + '/fonts';\r\nlet fontEdition={\r\n  'ara-quranindopak': 'nastaleeq-v10-full',\r\n  'ara-qurannastaleeqn': 'hafs-nastaleeq-ver10',\r\n  'ara-quranbazzi': 'bazzi-v7-full',\r\n  'ara-qurandoori': 'doori-v8-full',\r\n  'ara-qurandoorinonun': 'uthmanic-doori1-ver08',\r\n  'ara-quranuthmanihaf': 'hafs-uthmanic-v14-full',\r\n  'ara-quranqaloon': 'qaloon-v8-full',\r\n  'ara-quranqumbul': 'qumbul-v7-full',\r\n  'ara-quranshouba': 'shouba-v7-full',\r\n  'ara-quransoosi': 'soosi-v8-full',\r\n  'ara-quransoosinonun': 'uthmanic-soosi1-ver08',\r\n  'ara-quranwarsh': 'warsh-v8-full'\r\n};\r\n\r\nfor(const [key , value] of Object.entries(fontEdition))\r\n      fontEdition[key] = fontsLink+'/'+value+'.woff2'\r\n\r\n*/\r\n\nconst htmlQuranContainer =\r\n  `    \r\n<div class=\"card text-dark bg-light m-3\">\r\n<div class=\"card-body\">\r\n<div class=\"card-text lead m-1\"></div>\r\n</div>\r\n\r\n<span id=\"footercontainer\">\r\n</span>\r\n\r\n</div>\r\n`\r\n\r\nconst tableContainer =\r\n  `\r\n<table class=\"table table-hover  table-striped\">\r\n  <tbody>\r\n\r\n  </tbody>\r\n</table>\r\n`\r\n\r\nconst searchBar =\r\n  `\r\n<div class=\"m-3 d-none\">\r\n<form class=\"d-flex\" onsubmit=\"beginSearch(); return false\">\r\n  <input id=\"searchquery\" class=\"form-control mr-2\" type=\"search\" placeholder=\"Search Quran Verse\" aria-label=\"Search Quran Verse\" />\r\n  <button id=\"searchbtn\" class=\"btn btn-outline-info\" type=\"button\" onclick=\"beginSearch(); return false\">\r\n    <svg width=\"1em\" height=\"1em\" viewBox=\"0 0 16 16\" class=\"bi bi-search\" fill=\"currentColor\"\r\n      xmlns=\"http://www.w3.org/2000/svg\">\r\n      <path fill-rule=\"evenodd\"\r\n        d=\"M10.442 10.442a1 1 0 0 1 1.415 0l3.85 3.85a1 1 0 0 1-1.414 1.415l-3.85-3.85a1 1 0 0 1 0-1.415z\" />\r\n      <path fill-rule=\"evenodd\"\r\n        d=\"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z\" />\r\n    </svg>\r\n  </button>\r\n</form>\r\n</div>\r\n`\r\nconst CHAPTER_LENGTH = 114\r\n// Creating line to [chapter,verseNo] mappings\r\n// Array containing number of verses in each chapters\r\nconst chaplength = [7, 286, 200, 176, 120, 165, 206, 75, 129, 109, 123, 111, 43, 52, 99, 128, 111, 110, 98, 135, 112, 78, 118, 64, 77, 227, 93, 88, 69, 60, 34, 30, 73, 54, 45, 83, 182, 88, 75, 85, 54, 53, 89, 59, 37, 35, 38, 29, 18, 45, 60, 49, 62, 55, 78, 96, 29, 22, 24, 13, 14, 11, 11, 18, 12, 12, 30, 52, 52, 44, 28, 28, 20, 56, 40, 31, 50, 40, 46, 42, 29, 19, 36, 25, 22, 17, 19, 26, 30, 20, 15, 21, 11, 8, 8, 19, 5, 8, 8, 11, 11, 8, 3, 9, 5, 4, 7, 3, 6, 3, 5, 4, 5, 6]\r\n// contains chapter verse mappings for each line\r\nconst mappings = []\r\nconst mappingsStr = []\r\n\r\nfor (let i = 1; i <= CHAPTER_LENGTH; i++) {\r\n  for (let j = 1; j <= chaplength[i - 1]; j++) {\r\n    mappings.push([i, j])\r\n    mappingsStr.push(i + ',' + j)\r\n  }\r\n}\r\n\r\nconst chaptersJSON = { 'Al-Faatiha': 'The Opening', 'Al-Baqara': 'The Cow', 'Aal-i-Imraan': 'The Family of Imraan', 'An-Nisaa': 'The Women', 'Al-Maaida': 'The Table', \"Al-An'aam\": 'The Cattle', \"Al-A'raaf\": 'The Heights', 'Al-Anfaal': 'The Spoils of War', 'At-Tawba': 'The Repentance', Yunus: 'Jonas', Hud: 'Hud', Yusuf: 'Joseph', \"Ar-Ra'd\": 'The Thunder', Ibrahim: 'Abraham', 'Al-Hijr': 'The Rock', 'An-Nahl': 'The Bee', 'Al-Israa': 'The Night Journey', 'Al-Kahf': 'The Cave', Maryam: 'Mary', 'Taa-Haa': 'Taa-Haa', 'Al-Anbiyaa': 'The Prophets', 'Al-Hajj': 'The Pilgrimage', 'Al-Muminoon': 'The Believers', 'An-Noor': 'The Light', 'Al-Furqaan': 'The Criterion', \"Ash-Shu'araa\": 'The Poets', 'An-Naml': 'The Ant', 'Al-Qasas': 'The Stories', 'Al-Ankaboot': 'The Spider', 'Ar-Room': 'The Romans', Luqman: 'Luqman', 'As-Sajda': 'The Prostration', 'Al-Ahzaab': 'The Clans', Saba: 'Sheba', Faatir: 'The Originator', Yaseen: 'Yaseen', 'As-Saaffaat': 'Those drawn up in Ranks', Saad: 'The letter Saad', 'Az-Zumar': 'The Groups', Ghafir: 'The Forgiver', Fussilat: 'Explained in detail', 'Ash-Shura': 'Consultation', 'Az-Zukhruf': 'Ornaments of gold', 'Ad-Dukhaan': 'The Smoke', 'Al-Jaathiya': 'Crouching', 'Al-Ahqaf': 'The Dunes', Muhammad: 'Muhammad', 'Al-Fath': 'The Victory', 'Al-Hujuraat': 'The Inner Apartments', Qaaf: 'The letter Qaaf', 'Adh-Dhaariyat': 'The Winnowing Winds', 'At-Tur': 'The Mount', 'An-Najm': 'The Star', 'Al-Qamar': 'The Moon', 'Ar-Rahmaan': 'The Beneficent', 'Al-Waaqia': 'The Inevitable', 'Al-Hadid': 'The Iron', 'Al-Mujaadila': 'The Pleading Woman', 'Al-Hashr': 'The Exile', 'Al-Mumtahana': 'She that is to be examined', 'As-Saff': 'The Ranks', \"Al-Jumu'a\": 'Friday', 'Al-Munaafiqoon': 'The Hypocrites', 'At-Taghaabun': 'Mutual Disillusion', 'At-Talaaq': 'Divorce', 'At-Tahrim': 'The Prohibition', 'Al-Mulk': 'The Sovereignty', 'Al-Qalam': 'The Pen', 'Al-Haaqqa': 'The Reality', \"Al-Ma'aarij\": 'The Ascending Stairways', Nooh: 'Noah', 'Al-Jinn': 'The Jinn', 'Al-Muzzammil': 'The Enshrouded One', 'Al-Muddaththir': 'The Cloaked One', 'Al-Qiyaama': 'The Resurrection', 'Al-Insaan': 'Man', 'Al-Mursalaat': 'The Emissaries', 'An-Naba': 'The Announcement', \"An-Naazi'aat\": 'Those who drag forth', Abasa: 'He frowned', 'At-Takwir': 'The Overthrowing', 'Al-Infitaar': 'The Cleaving', 'Al-Mutaffifin': 'Defrauding', 'Al-Inshiqaaq': 'The Splitting Open', 'Al-Burooj': 'The Constellations', 'At-Taariq': 'The Morning Star', \"Al-A'laa\": 'The Most High', 'Al-Ghaashiya': 'The Overwhelming', 'Al-Fajr': 'The Dawn', 'Al-Balad': 'The City', 'Ash-Shams': 'The Sun', 'Al-Lail': 'The Night', 'Ad-Dhuhaa': 'The Morning Hours', 'Ash-Sharh': 'The Consolation', 'At-Tin': 'The Fig', 'Al-Alaq': 'The Clot', 'Al-Qadr': 'The Power, Fate', 'Al-Bayyina': 'The Evidence', 'Az-Zalzala': 'The Earthquake', 'Al-Aadiyaat': 'The Chargers', \"Al-Qaari'a\": 'The Calamity', 'At-Takaathur': 'Competition', 'Al-Asr': 'The Declining Day, Epoch', 'Al-Humaza': 'The Traducer', 'Al-Fil': 'The Elephant', Quraish: 'Quraysh', \"Al-Maa'un\": 'Almsgiving', 'Al-Kawthar': 'Abundance', 'Al-Kaafiroon': 'The Disbelievers', 'An-Nasr': 'Divine Support', 'Al-Masad': 'The Palm Fibre', 'Al-Ikhlaas': 'Sincerity', 'Al-Falaq': 'The Dawn', 'An-Naas': 'Mankind' }\r\nconst arabicChapters = Object.keys(chaptersJSON)\r\nconst englishChapters = Object.values(chaptersJSON)\r\n\r\n\r\nfunction capitalize(words) {\r\n  return words.toString().toLowerCase().replace(/(^\\w{1})|(\\s+\\w{1})/g, match => match.toUpperCase()).trim()\r\n}\r\n\r\nlet htmlparser = new DOMParser();\r\n\r\nfunction getElement(elementName, attributesObj) {\r\n  if (!attributesObj)\r\n    attributesObj = {}\r\n  let element = document.createElement(elementName);\r\n  for (let [key, value] of Object.entries(attributesObj)) {\r\n    element.setAttribute(key, value);\r\n  }\r\n  return element\r\n}\r\n\r\nlet apiLinks = [\"https://cdn.jsdelivr.net/gh/fawazahmed0/quran-api@1/\", \"https://raw.githubusercontent.com/fawazahmed0/quran-api/1/\"]\r\nlet extensions = [\".min.json\", \".json\"]\r\n\r\n// https://www.shawntabrizi.com/code/programmatically-fetch-multiple-apis-parallel-using-async-await-javascript/\r\n// Get links async i.e in parallel\r\nasync function getJSON(endpoints, links) {\r\n  let returnSingle = false\r\n  if (!Array.isArray(endpoints)) {\r\n    endpoints = [endpoints]\r\n    returnSingle = true\r\n  }\r\n  let result = await Promise.all(\r\n    endpoints.map(endpoint => fetchWithFallback(getURLs(endpoint, links)).then(response => response.json()))\r\n  ).catch(console.error)\r\n  if (returnSingle)\r\n    return result[0]\r\n  return result\r\n}\r\n\r\n\r\nasync function fetchWithFallback(links, obj) {\r\n  let response;\r\n  for (let link of links) {\r\n    try {\r\n      response = await fetch(link, obj)\r\n      if (response.ok)\r\n        return response\r\n    } catch (e) { }\r\n  }\r\n  return response\r\n}\r\n\r\n// convert endpoint into multiple urls, including fallback urls\r\nfunction getURLs(endpoint, links) {\r\n  links = links || apiLinks\r\n  return extensions.map(ext => links.map(e => e + endpoint + ext)).flat()\r\n}\r\n\r\nfunction getElementFromHTML(htmlString) {\r\n  return htmlparser.parseFromString(htmlString, \"text/html\");\r\n}\r\n\r\n// pass hadith object & get card element with all hadith info in it\r\nfunction getQuranCardElem(quran, editionName, dirval, lang, isocodes) {\r\n  let lowerLang = lang.toLowerCase()\r\n  let cardElem = getElementFromHTML(htmlQuranContainer).querySelector('.card')\r\n  cardElem.querySelector('.card-text').innerText = quran.text\r\n  let footerDiv = getElement('div', { class: \"card-footer\" })\r\n  let hrefVal = `quran:${editionName}:${quran.chapter}:${quran.verse}`\r\n  cardElem.querySelector('#footercontainer').appendChild(footerDiv.cloneNode())\r\n  Array.from(cardElem.querySelectorAll('.card-footer'))[0].insertAdjacentHTML(\"beforeend\", `<a href=#${hrefVal} class=\"link-dark text-decoration-none\" >Chapter ${quran.chapter} ${arabicChapters[quran.chapter - 1]}, Verse ${quran.verse}</a> <br>`);\r\n  cardElem.setAttribute('id', hrefVal)\r\n\r\n  cardElem.querySelector('.card-text').setAttribute('dir', dirval)\r\n  cardElem.querySelector('.card-text').setAttribute('lang', isocodes[lowerLang].iso1 ? isocodes[lowerLang].iso1 : isocodes[lowerLang].iso2)\r\n\r\n  return cardElem\r\n}\r\n\r\nwindow.beginSearch = function () {\r\n  let newparams = new URLSearchParams();\r\n  let searchquery = document.getElementById('searchquery').value\r\n  newparams.set('q', `site:fawazahmed0.github.io/quran ${searchquery}`)\r\n  window.open('https://www.google.com/search?' + newparams.toString(), '_blank');\r\n}\r\n\r\n\r\n"],"names":["$01f76801a2bea368$var$editionsJSON","_showTranslations","$kAkBg","parcelRequire","_oneTimeFunc","asyncToGenerator","$parcel$interopDefault","$jO2Au","mark","_callee","document","querySelector","insertAdjacentHTML","$01f76801a2bea368$var$searchBar","$01f76801a2bea368$var$getJSON","ref","$01f76801a2bea368$var$createDropdown","$01f76801a2bea368$var$setInitEditions","$01f76801a2bea368$var$setInitChapter","window","showTranslations","$01f76801a2bea368$var$setInitVerse","$","select2","theme","on","e","location","hash","apply","this","arguments","urlparams","URL","searchParams","get","editionCookie","Cookies","undefined","prop","JSON","parse","map","split","chapterCookie","chapterVerse","substring","length","_createDropdown","langEdition","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","value","dropdownText","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","_value","value1","key","dir","i1","Object","values","Symbol","iterator","next","done","test","name","language","author","push","direction","_ctx","t0","return","sort","append","t1","$01f76801a2bea368$var$CHAPTER_LENGTH","$01f76801a2bea368$var$arabicChapters","$01f76801a2bea368$var$englishChapters","$01f76801a2bea368$var$createVerseDropDown","empty","chapterNo","val","i4","$01f76801a2bea368$var$chaplength","anchor","$01f76801a2bea368$var$getChapterArr","endpointsArr","_getChapterArr","transJSON","sent","e1","chapter","text","$01f76801a2bea368$var$showSpinningWheel","prepend","selectedValues","chapEdDirHolder","edName","endpoint","chaptersArr","offset","classValues","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","i2","_iterator2","_step2","edName1","dropDownText","id","filter","elem","set","stringify","expires","path","i3","attr","remove","tooltipTriggerList","slice","call","querySelectorAll","tooltipTriggerEl","bootstrap","Tooltip","addEventListener","event","$01f76801a2bea368$var$oneTimeFunc","$01f76801a2bea368$var$mappings","$01f76801a2bea368$var$mappingsStr","i","j","$01f76801a2bea368$var$chaptersJSON","Yunus","Hud","Yusuf","Ibrahim","Maryam","Luqman","Saba","Faatir","Yaseen","Saad","Ghafir","Fussilat","Muhammad","Qaaf","Nooh","Abasa","Quraish","keys","endpoints","links","_getJSON","result","prev","$01f76801a2bea368$var$fetchWithFallback","$01f76801a2bea368$var$getURLs","then","response","json","wrap","finish","abrupt","stop"],"version":3,"file":"index.30e9703c.js.map"}